https://jasonshieh.iteye.com/blog/2412210

１．连接到mysql

２．查看用户信息
    select Host,User from user where user='root';

    或
    select * from user\G;

３．更新用户登录权限
    update user set Host = '%' where User = 'root';

    flush privileges;

４．用ip连接
    mysql -h 172.20.53.158 -uroot -p
    Enter password: 
    Welcome to the MySQL monitor.  Commands end with ; or \g.
    Your MySQL connection id is 21
    Server version: 8.0.16 MySQL Community Server - GPL

    Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.

    Oracle is a registered trademark of Oracle Corporation and/or its
    affiliates. Other names may be trademarks of their respective
    owners.

    Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

备注：如果还是不行，去修改配置文件，bind-address = 127.0.0.1　（改为：0.0.0.0）


检查权限是否修改：
    select * from user\G;

    *************************** 9. row ***************************
                      Host: %
                      User: user2
                  Password: *81F5E21E35407D884A6CD4A731AEBFB6AF209E1B
               Select_priv: Y
               Insert_priv: N
               Update_priv: N
               Delete_priv: N
               Create_priv: N
                 Drop_priv: N
               Reload_priv: N
             Shutdown_priv: N
              Process_priv: N
                 File_priv: N
                Grant_priv: N
           References_priv: N
                Index_priv: N
                Alter_priv: N
              Show_db_priv: N
                Super_priv: N
     Create_tmp_table_priv: N
          Lock_tables_priv: N
              Execute_priv: N
           Repl_slave_priv: N
          Repl_client_priv: N
          Create_view_priv: N
            Show_view_priv: N
       Create_routine_priv: N
        Alter_routine_priv: N
          Create_user_priv: N
                Event_priv: N
              Trigger_priv: N
    Create_tablespace_priv: N
                  ssl_type: 
                ssl_cipher: 
               x509_issuer: 
              x509_subject: 
             max_questions: 0
               max_updates: 0
           max_connections: 0
      max_user_connections: 0
                    plugin: 
     authentication_string: NULL

case:
    １）如果想修改用户通过ip访问，可以先添加用户，附上访问权限，再修改ip访问权限